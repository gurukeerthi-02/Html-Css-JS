<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Rock Paper Scissors Game</title>
  </head>
  <body>
    <p>Rock Paper Scissors Game</p>
    <button onclick="playGame('Rock')">Rock</button>
    <button onclick="playGame('Paper')">Paper</button>
    <button onclick="playGame('Scissor')">Scissors</button>
    <button onclick="resetGame()">
      Reset
  </button>

    <script>
      const score = JSON.parse(localStorage.getItem('score'))

      // console.log(JSON.parse(localStorage.getItem('score')));
      // const {userWinCount} = score;
      // const {computerWinCount} = score;
      // const {drawCount} = score;
      
      // console.log(userWinCount);
      // console.log(computerWinCount);
      // console.log(drawCount);
      

      function resetGame(){
        score.userWinCount = 0;
        score.computerWinCount = 0;
        score.drawCount = 0;
        localStorage.setItem('score',JSON.stringify(score));
        alert('Game reset!');
      }

      function playGame(userInput) {

        let randomInput = Math.floor(Math.random() * 3);
        let computerInput = '';

        if (randomInput === 0) computerInput = 'Rock';
        else if (randomInput === 1) computerInput = 'Paper';
        else computerInput = 'Scissor';

        let result = '';

        if (userInput === computerInput) {
          result = 'Tie!';
          score.drawCount++;
        }
        else if (
          (userInput === 'Rock' && computerInput === 'Scissor') ||
          (userInput === 'Paper' && computerInput === 'Rock') ||
          (userInput === 'Scissor' && computerInput === 'Paper')
        ) {
            result = 'You win!';
            score.userWinCount++;
        }
        else {
          result = 'Computer wins!';
          score.computerWinCount++;
        }

        localStorage.setItem('score',JSON.stringify(score));

        alert(
          `You chose ${userInput}. Computer chose ${computerInput}. Result: ${result}\n` +
          `Score:\nYou: ${score.userWinCount}\nComputer: ${score.computerWinCount}\nDraws: ${score.drawCount}`
        );
      }
  </script> 
</body>
</html>