<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Rock Paper Scissors Game</title>
  </head>
  <body>
    <p>Rock Paper Scissors Game</p>
    <button onclick="playGame('Rock')">Rock</button>
    <button onclick="playGame('Paper')">Paper</button>
    <button onclick="playGame('Scissor')">Scissors</button>
    <button onclick="resetGame()">
      Reset
  </button>
  <p class="js-score"></p>

    <script>
      const score = JSON.parse(localStorage.getItem('score')) ||
      {
        userWinCount: 0,
        computerWinCount: 0,
        drawCount: 0
      }

      updateScore();
      function resetGame(){
        score.userWinCount = 0;
        score.computerWinCount = 0;
        score.drawCount = 0;
        localStorage.setItem('score',JSON.stringify(score));
        alert('Game reset!');
        updateScore();
        
      }

      function updateScore(){
        document.querySelector('.js-score')
          .innerHTML = `Score:\nYou: ${score.userWinCount}\nComputer: ${score.computerWinCount}\nDraws: ${score.drawCount}`
      }

      function playGame(userInput) {

        let randomInput = Math.floor(Math.random() * 3);
        let computerInput = randomInput === 0 ? 'Rock' : randomInput === 1 ? 'Paper' : 'Scissor';
        let result = '';

        if (userInput === computerInput) {
          result = 'Tie!';
          score.drawCount++;
        }
        else if (
          (userInput === 'Rock' && computerInput === 'Scissor') ||
          (userInput === 'Paper' && computerInput === 'Rock') ||
          (userInput === 'Scissor' && computerInput === 'Paper')
        ) {
            result = 'You win!';
            score.userWinCount++;
        }
        else {
          result = 'Computer wins!';
          score.computerWinCount++;
        }

        localStorage.setItem('score',JSON.stringify(score));

        document.querySelector('.js-score')
          .innerHTML = `<p>You chose ${userInput}. Computer chose ${computerInput}. Result: ${result}</p> 
          <p>Score:\nYou: ${score.userWinCount}\nComputer: ${score.computerWinCount}\nDraws: ${score.drawCount}</p>`
      }
  </script> 
</body>
</html>